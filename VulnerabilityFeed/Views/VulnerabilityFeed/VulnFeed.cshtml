@model Skad.VulnFeed.MvcControllers.ViewModels.VulnerabilityFeedIndexModel

@{
    Layout = null;
}

<!DOCTYPE html>

<html lang="en">
<head>
    <style>
        .container1 {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            background: rgb(127,163,237);
        }

        .container2 {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .container3 {
            display: flex;
            justify-content: flex-start;
            align-items: baseline;
            margin-bottom: 20px;
        }

        h1 {
            padding: 0;
            margin: 0;
        }
        
        body {
            margin: auto;
            width: 80%;
            padding: 10px;
            background: #D8EEFF;
        }
        
        header {
            border-top: 2px solid black;
            border-bottom: 2px solid black;
        }
        
        table {
            margin: 30px auto;
            width: 98%;
            padding: 20px 10px 50px;
            border-collapse: collapse;
        }
        
        th {
            border: 3px solid black;
            background: rgb(127,163,237);
        }
        
        td {
            border: 1px solid black;
        }        
        
        tr:nth-child(odd) {   
            background-color:#FFFFFF; 
        } 
        
        tr:nth-child(even) {   
            background-color:#EFFFFF; 
        }     
    </style>
    <title>Vulnerability Feed</title>
</head>
<body>
<header class="container1">
    <h1>SecurityNewsSource</h1>
    <h3>Welcome, User</h3>
</header>
<div class="container2">
    <span style="font-weight: bold;">Vulnerability Feed</span>
    <span style="font-weight: bold;">Current Subscription: <a href="@Model.SubscriptionLink()">Unknown</a></span>
</div>
<div class="container3">
    <a href="">Filter</a>&nbsp;|&nbsp;<a href="">Manage Feed</a>
</div>
<table>
    <tr>
        <th>CVE ID</th>
        <th>Affected Component</th>
        <th>Affected Versions</th>
        <th>CVSSv2 Score</th>
        <th>CVSSv2 Severity</th>
        <th>CVSSv3 Score</th>
        <th>CVSSv3 Severity</th>
    </tr>
    @foreach (var vuln in Model.Items)
    {
        <tr>
            <td>@vuln.CveId</td>
            <td>@vuln.AffectedComponent</td>
            <td>@vuln.AffectedVersions</td>
            <td>@vuln.ScoreCvssV2</td>
            <td>@vuln.SeverityCvssV2</td>
            <td>@vuln.ScoreCvssV3</td>
            <td>@vuln.SeverityCvssV3</td>
        </tr>
    }
</table>
<div class="container2">
    @if (Model.HasPrevPage)
    {
        <a href="@Model.PrevPageLink">Prev Page</a>
    }
    else
    {
        <span>Prev Page</span>
    }

    @if (Model.HasNextPage)
    {
        <a href="@Model.NextPageLink">Next Page</a>
    }
    else
    {
        <span>Next Page</span>
    }
</div>
</body>
</html>
